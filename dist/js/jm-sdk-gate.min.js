var jm=jm||{};"undefined"!=typeof exports&&"undefined"!=typeof module&&(jm=require("jm-sdk-core"),require("jm-ms")),function(){if(!jm.sdk.gate){var t=jm.sdk,i=jm.ms;t.on("init",function(i){i.gate=i.gate||{},i.gate.uri=i.gate.uri||i.uri,i.gate.timeout=i.gate.timeout||i.timeout,t.gate.init(i.gate)}),t.gate={init:function(t){var e=this;t=t||{};var n=t.uri,r=t.prefix||"/gate";this.uri=n+r,i.client({uri:this.uri,timeout:t.timeout||0},function(t,i){e.client=i}),jm.enableEvent(this)},_geturi:function(t){return"/"+t.name},getService:function(t,i){i=i||function(){},t=t||{};var e=this._geturi(t);this.client.get({uri:e,data:t},i)},registerService:function(t,i){i=i||function(){},t=t||{};var e=this._geturi(t);this.client.post({uri:e,data:t},i)},deregisterService:function(t,i){i=i||function(){},t=t||{};var e="/"+t.id;this.client.delete({uri:e},i)},listService:function(t,i){i=i||function(){},t=t||{};var e=this._geturi(t);this.client.get({uri:e,data:t},i)}}}}();